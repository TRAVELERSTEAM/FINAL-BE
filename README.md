# ì—¬í–‰ìƒí’ˆ ì‚¬ìš©ì, ê´€ë¦¬ì API í”„ë¡œì íŠ¸ (ê¸°ì—…ì—°ê³„ í”„ë¡œì íŠ¸)

<table>
  <tr style="text-align: center">
    <td colspan="3">ë‹¹ë‹´ ì„ë¬´</td>
  </tr>
  <tr>
    <td>ì´ë¯¼í˜•</td>
    <td>íšŒì›ê´€ë¦¬, ì„œë²„ê´€ë¦¬, CI/CD, ìƒí’ˆê´€ë¦¬, ë°°ë„ˆê´€ë¦¬, ë¦¬ë“œë¯¸</td>
  </tr>
  <tr>
    <td>ì •ì„±í›ˆ</td>
    <td>ì½˜í…ì¸  ê´€ë¦¬, ì˜ˆì•½ ê´€ë¦¬, ìƒí’ˆê´€ë¦¬</td>
  </tr>
</table>

## âš™ í”„ë¡œì íŠ¸ ê°œë°œ í™˜ê²½
- í†µí•©ê°œë°œí™˜ê²½ : Intellij
- JDK ë²„ì „ : JDK 11
- ìŠ¤í”„ë§ë¶€íŠ¸ ë²„ì „ : 2.7.3
- ì‚¬ìš© DB : MySQL, Redis
- ë¹Œë“œíˆ´ : Gradle
- ê´€ë¦¬íˆ´ : Git, Github, Jenkins, Docker, AWS EC2, S3, RDS, ~~ElastiCache~~, ELB


## âš’ ë°±ì—”ë“œ ê¸°ìˆ  ìŠ¤íƒ
- Backend
  - Spring Boot
  - Spring Security
  - Spring Validation
  - Spring Data Jpa
  - Spring Cloud Aws
  - Spring Devtools
  - Springfox (swagger)
  - Spring Boot Mail
  - QueryDsl
  - Gson
  - Lombok
  - JWT


- Database
  - MySQL 8.0.28
  - Redis 6.2.6
  
<br>

## ğŸ“œ í”„ë¡œì íŠ¸ êµ¬í˜„ ê¸°ëŠ¥
- íšŒì› (Member)
  - ê´€ë¦¬ìí˜ì´ì§€ : ê´€ë¦¬ì ë¡œê·¸ì¸, íšŒì›ë“±ê¸‰ ë³€ê²½, íšŒì› íƒˆí‡´
  - ì‚¬ìš©ìí˜ì´ì§€ : íšŒì›ê°€ì…/ë¡œê·¸ì¸ ë° ë¡œê·¸ì•„ì›ƒ, íšŒì›íƒˆí‡´, ì•„ì´ë””/ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°, ì´ë©”ì¼ ì¸ì¦
- ìƒí’ˆ (Product)
  - ê´€ë¦¬ìí˜ì´ì§€ : ì „ì²´ìƒí’ˆ ì¡°íšŒ, ìƒí’ˆ ìƒì„¸ì¡°íšŒ, **ìƒí’ˆë“±ë¡**, **ìƒí’ˆìˆ˜ì •**, **ìƒí’ˆì‚­ì œ**
  - ì‚¬ìš©ìí˜ì´ì§€ : ì „ì²´ìƒí’ˆ ì¡°íšŒ, ìƒí’ˆ ìƒì„¸ì¡°íšŒ, **ìƒí’ˆê²€ìƒ‰**
- ë°°ë„ˆ (Banner)
  - ê´€ë¦¬ìí˜ì´ì§€ : ì „ì²´ë°°ë„ˆ ì¡°íšŒ, ë°°ë„ˆ ìƒì„¸ì¡°íšŒ, **ë°°ë„ˆë“±ë¡**, **ë°°ë„ˆìˆ˜ì •**, **ë°°ë„ˆì‚­ì œ**
  - ì‚¬ìš©ìí˜ì´ì§€ : ì „ì²´ë°°ë„ˆ ì¡°íšŒ, ë°°ë„ˆ ìƒì„¸ì¡°íšŒ
- ì½˜í…ì¸  (Notify)
  - ê´€ë¦¬ìí˜ì´ì§€ : ì „ì²´ ê³µì§€ì‚¬í•­ ì¡°íšŒ, ê³µì§€ì‚¬í•­ ìƒì„¸ì¡°íšŒ, ê³µì§€ì‚¬í•­ ë“±ë¡, ì „ì²´ ìë£Œì‹¤ ì¡°íšŒ, ìë£Œì‹¤ ìƒì„¸ì¡°íšŒ, ìë£Œì‹¤ ë“±ë¡, ê³µì§€ì‚¬í•­/ìë£Œì‹¤ ìˆ˜ì •, ê³µì§€ì‚¬í•­/ìë£Œì‹¤ ì‚­ì œ 
  - ì‚¬ìš©ìí˜ì´ì§€ : ì „ì²´ ê³µì§€ì‚¬í•­ ì¡°íšŒ, ê³µì§€ì‚¬í•­ ìƒì„¸ì¡°íšŒ, ì „ì²´ ìë£Œì‹¤ ì¡°íšŒ, ìë£Œì‹¤ ìƒì„¸ì¡°íšŒ
- ì˜ˆì•½ (Reservation)
  - ì‚¬ìš©ìí˜ì´ì§€ : ì˜ˆì•½ëª©ë¡ ë³´ê¸°, ì˜ˆì•½ ì¶”ê°€, ì˜ˆì•½ ì·¨ì†Œ


## ğŸ“‚ í”„ë¡œì íŠ¸ DB ëª¨ë¸ë§
![ ](./travelers-erd.PNG)
  
> member : íšŒì› ì •ë³´ í…Œì´ë¸”  
> product : ì—¬í–‰ìƒí’ˆ ì •ë³´ í…Œì´ë¸”  
> reservation : ìƒí’ˆ ì˜ˆì•½ í…Œì´ë¸”  
> departure : ìƒí’ˆ ì˜ˆì•½ì¼ ê´€ë ¨ í…Œì´ë¸”  
> banner : ë©”ì¸í˜ì´ì§€ ë°°ë„ˆ ì •ë³´ í…Œì´ë¸”  
> travel-place : ì—¬í–‰í–ˆë˜ ìƒí’ˆ í…Œì´ë¸”  
> review : ì—¬í–‰ìƒí’ˆ í›„ê¸° í…Œì´ë¸”  
> image : ì´ë¯¸ì§€ í…Œì´ë¸”  
> notify : ê³µì§€ì‚¬í•­ ì •ë³´ í…Œì´ë¸”  
> qna : 1:1ë¬¸ì˜ í…Œì´ë¸”
> reply: ëŒ“ê¸€ í…Œì´ë¸”  
> annonymous_reservation : ë¹„ë¡œê·¸ì¸ ìœ ì € ìƒí’ˆì˜ˆì•½ í…Œì´ë¸”  
> annonymous_member : ë¹„ë¡œê·¸ì¸ ìœ ì € ì •ë³´ í…Œì´ë¸”


## ğŸ“œ í”„ë¡œì íŠ¸ API ëª…ì„¸ì„œ

>êµµì€ ê¸€ì”¨ëŠ” ë¦¬í™í† ë§ í•´ì•¼ í•  API

### ì‚¬ìš©ìí˜ì´ì§€
|Function|Method|End Point|Token|
|---|---|---|:---:|
|íšŒì›ê°€ì…|POST|/register|X|
|ë¡œê·¸ì¸|POST|/login|X|
|**ì•„ì´ë””ì°¾ê¸°**|POST|/find_email|X|
|**ë¹„ë°€ë²ˆí˜¸ì°¾ê¸°**|POST|/find_password|X|
|ì´ë©”ì¼ ì¸ì¦ë²ˆí˜¸ ë°›ê¸°|POST|/verify|X|
|ì´ë©”ì¼ ì¸ì¦í•˜ê¸°|GET|/verify/{email}/{key}|X|
|ì‚¬ìš©ì ì •ë³´ ë°›ì•„ì˜¤ê¸°|GET|/user/me|O|
|ì‚¬ìš©ì ì •ë³´ ìˆ˜ì •í•˜ê¸°|PUT|/user|O|
|íšŒì› íƒˆí‡´í•˜ê¸°|DELETE|/user|O|
|ìƒí’ˆëª©ë¡ ë°›ì•„ì˜¤ê¸°|GET|/products|X|
|ìƒí’ˆ ìƒì„¸ë³´ê¸°|GET|/product/{productId}|X|
|**ìƒí’ˆ ê²€ìƒ‰**|POST|/product?productName={productName}|X|
|ë°°ë„ˆëª©ë¡ ë°›ì•„ì˜¤ê¸°|GET|/banners|X|
|ë°°ë„ˆ ìƒì„¸ë³´ê¸°|GET|/banner/{bannerId}|X|
|ìƒí’ˆ ì˜ˆì•½ì¼ ëª©ë¡ ë³´ê¸°|GET|/product/{productId}/departure|X|
|ì˜ˆì•½ì¼ ìƒì„¸ë³´ê¸°|GET|/departure/{departureId}|X|
|ìƒí’ˆ ì˜ˆì•½ ëª©ë¡ ë³´ê¸°|GET|/reservation|X|
|ìƒí’ˆ ì˜ˆì•½í•˜ê¸°|POST|/reservation/{departureId}|O|
|ìƒí’ˆ ì˜ˆì•½ ì·¨ì†Œ ìš”ì²­í•˜ê¸°|PATCH|/reservation/{reservationId}|O|
|ë¦¬ë·° ì „ì²´ë³´ê¸°|GET|/review|X|
|ë¦¬ë·° ì‘ì„±í•˜ê¸°|POST|/review/{productId}|O|
|ë¦¬ë·° ìƒì„¸ë³´ê¸°|GET|/review/{reviewId}|X|
|ë¦¬ë·° ìˆ˜ì •í•˜ê¸°|PUT|/review/{reviewId}|O|
|ë¦¬ë·° ì‚­ì œí•˜ê¸°|DELETE|/review/{reviewId}|O|
|ê³µì§€ì‚¬í•­ ëª©ë¡ ë³´ê¸°|GET|/notify/notice|X|
|ê³µì§€ì‚¬í•­ ìƒì„¸ ë³´ê¸°|GET|/notify/notice/{notifyId}|X|
|ìë£Œì‹¤ ëª©ë¡ ë³´ê¸°|GET|/notify/ref-library|X|
|ìë£Œì‹¤ ìƒì„¸ ë³´ê¸°|GET|/notify/ref-library/{notifyId}|X|
|1:1ë¬¸ì˜ ëª©ë¡ ë³´ê¸°|GET|/qna|O|
|1:1ë¬¸ì˜ í•˜ê¸°|POST|/qna|O|
|1:1ë¬¸ì˜ ìƒì„¸ ë³´ê¸°|GET|/qna/{qnaId}|O|
|1:1ë¬¸ì˜ ìˆ˜ì •í•˜ê¸°|PUT|/qna/{qnaId}|O|
|1:1ë¬¸ì˜ ì‚­ì œí•˜ê¸°|DELETE|/qna/{qnaId}|O|
|1:1ë¬¸ì˜ ëŒ“ê¸€ë‹¬ê¸°|POST|/qna/{qnaId}/reply|O|
|**1:1ë¬¸ì˜ ëŒ“ê¸€ ìˆ˜ì •í•˜ê¸°**|PUT|/qna/{qnaId}/reply/{replyId}|O|
|**1:1ë¬¸ì˜ ëŒ“ê¸€ ì‚­ì œí•˜ê¸°**|DELETE|/qna/{qnaId}/reply/{replyId}|O|
|ë¹„íšŒì› ì˜ˆì•½í•˜ê¸°|POST|/anonymous/{departureId}|X|
|ë¹„íšŒì› ì˜ˆì•½ ì¡°íšŒ|GET|/anonymous/{reservationCode}|X|
|**ë¹„íšŒì› ì˜ˆì•½ ì·¨ì†Œ ìš”ì²­í•˜ê¸°**|PATCH|/anonymous/{reservationCode}|O|

### ê´€ë¦¬ìí˜ì´ì§€
|Function|Method|End Point|Token|
|---|---|---|:---:|
|ì–´ë“œë¯¼ ë¡œê·¸ì¸í•˜ê¸°|POST|/admin/login|X|
|ì‚¬ìš©ì ëª©ë¡ ë³´ê¸°|GET|/admin/members|O|
|ì‚¬ìš©ì ê¶Œí•œ ë³€ê²½|PUT|/admin/member/{id}|O|
|ì‚¬ìš©ì íƒˆí‡´|DELETE|/admin/member/{id}|O|
|ë°°ë„ˆëª©ë¡ ë°›ì•„ì˜¤ê¸°|GET|/admin/banners|O|
|ë°°ë„ˆ ìƒì„¸ë³´ê¸°|GET|/admin/banner/{bannerId}|O|
|ë°°ë„ˆ ë¶ˆëŸ¬ì˜¤ê¸°|GET|/admin/banner/load|O|
|**ë°°ë„ˆ ë“±ë¡í•˜ê¸°**|POST|/admin/banner|O|
|**ë°°ë„ˆ ìˆ˜ì •í•˜ê¸°**|PUT|/admin/banner|O|
|**ë°°ë„ˆ ì‚­ì œí•˜ê¸°**|DELETE|/admin/banner|O|
|ìƒí’ˆëª©ë¡ ë°›ì•„ì˜¤ê¸°|GET|/admin/products|O|
|ìƒí’ˆ ìƒì„¸ë³´ê¸°|GET|/admin/product/{productId}|O|
|ìƒí’ˆ ë“±ë¡í•˜ê¸°|POST|/admin/product|O|
|ìƒí’ˆ ë¶ˆëŸ¬ì˜¤ê¸°|GET|/admin/product/load|O|
|**ìƒí’ˆ ë“±ë¡í•˜ê¸°**|POST|/admin/product|O|
|**ìƒí’ˆ ìˆ˜ì •í•˜ê¸°**|PUT|/admin/product|O|
|**ìƒí’ˆ ì‚­ì œí•˜ê¸°**|DELETE|/admin/product|O|
|ì˜ˆì•½ì¼ ë§Œë“¤ê¸°|POST|/admin/departure|O|
|ì˜ˆì•½ì¼ ì‚­ì œí•˜ê¸°|DELETE|/admin/departure/{departureId}|O|
|ê³µì§€ì‚¬í•­ ëª©ë¡ ë³´ê¸°|GET|/admin/notify/notice|O|
|ê³µì§€ì‚¬í•­ ì‘ì„±í•˜ê¸°|POST|/admin/notify/notice|O|
|ê³µì§€ì‚¬í•­ ìƒì„¸ë³´ê¸°|GET|/admin/notify/notice/{notifyId}|O|
|ìë£Œì‹¤ ëª©ë¡ ë³´ê¸°|GET|/admin/notify/ref_library|O|
|ìë£Œì‹¤ ì‘ì„±í•˜ê¸°|POST|/admin/notify/ref-library|O|
|ìë£Œì‹¤ ìƒì„¸ë³´ê¸°|GET|/admin/notify/ref-library/{notifyId}|O|
|ê³µì§€ì‚¬í•­/ìë£Œì‹¤ ê¸€ ìˆ˜ì •|PUT|/admin/notify/{notifyId}|O|
|ê³µì§€ì‚¬í•­/ìë£Œì‹¤ ê¸€ ì‚­ì œ|DELETE|/admin/notify/{notifyId}|O|


## ê°œì„ í•´ì•¼í• ì  & ì¶”í›„ ë¦¬í™í† ë§ ì˜ˆì •
- API URL ì„¤ê³„
  - URL ì—ëŠ” ì¼€ë°¥ì¼€ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì
  - PathVariable ì—ëŠ” ì¹´ë©œì¼€ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì
  - ì „ì²´ë¥¼ ì¡°íšŒí•˜ëŠ” URL ì—ëŠ” ëì— s ë¥¼ ë¶™í˜€ì„œ ë³µìˆ˜í˜•ìœ¼ë¡œ ì‚¬ìš©í•˜ì